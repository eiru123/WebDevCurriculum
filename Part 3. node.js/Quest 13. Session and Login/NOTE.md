# Quest13. Session and Login

* 쿠키란 무엇일까요?
    * http프로토콜의 connectionless한 특성과 stateless한 특성을 보완하기 위해 존재. connectionless는 연결이 유지되지 않는 특성이고 stateless는 접속을 끊어버리는 순간 클라이언트와 서버의 통신은 끝이나고 상태 정보는 유지하지 않는 특성이다. 이 특성은 접속이 끝나버리면 통신을 하기 위해 지속적으로 인증이 필요하게 된다. 이 때 쿠키와 세션을 활용하여 해결한다.
    * 쿠키란 서버가 클라이언트에 전송하여 저장하는 텍스트 조각
    * 쿠키는 클라이언트에 저장되는 키와 값이 들어있는 작은 데이터 파일.
    * 쿠키는 이름, 값, 만료 날짜(쿠키 저장기간), 경로 정보가 들어있다.
    * 쿠키는 일정 시간동안 데이터를 저장할 수 있어서 로그인 상태를 유지한다.
    
    * 쿠키는 어떤 식으로 동작하나요?
        1. 웹페이지 접속
        1. 클라이언트가 요청한 웹페이지를 받으면서 쿠키를 클라이언트 로컬에 저장
        1. 클라이언트가 재 요청시 웹페이지 요청과 함께 쿠키값도 전송
        1. 지속적으로 로그인 정보를 가지고 있는 것처럼 사용한다.
    * 쿠키는 어떤 식으로 서버와 클라이언트 사이에 정보를 주고받나요?
        * request, response 시에 헤더에 실어 보낸다.
* 웹 어플리케이션의 세션이란 무엇일까요?
    * 인증된 클라이언트의 정보를 서버에서 내부적으로 저장하고 관리하는 방식.
    * 서버의 자원이 남아있으면 제한없이 정보를 저장할 수 있으며, 객체로 관리되기 때문에 다양한 정보를 저장할 수 있다.
    * 클라이언트에게 세션쿠키를 이용하여 세션ID를 전달하며, 클라이언트는 세션ID를 request에 포함하여 전송한다.
    * 클라이언트의 중요한 정보가 아닌 세션ID만 클라이언트에 넘겨주기 때문에 쿠키보다 안전하다.
    * 많은 수의 세션이 서버에 저장될 경우 부하가 올 수 있으며, 세션의 종류에 따라 파기시점이 다르기 때문에 개발할 때 주의해야한다.
    * 세션의 내용은 어디에, 어떤 식으로 저장되나요?
        * 세션의 내용은 서버에 저장된다. 세션의 저장 방법으로는 메모리, 파일, 데이터베이스, 쿠키에 저장할 수 있다. 하지만 서버가 여러 대로 분산되어 있을 경우 메모리와 파일은 부적절한 방법이 될 수 있다. 쿠키에 저장하는 것 역시 세션의 스펙과는 맞지 않으므로 되도록이면 데이터베이스에 저장한다.