# Quest09. What is server

* 서버와 클라이언트 그리고 웹 브라우저
    * 클라이언트/서버는 두 개의 컴퓨터 프로그램 사이에 이루어지는 역할 관계를 나타내는 것이다. 클라이언트란 서비스를 요청하는 쪽이고 서버는 서비스를 제공하는 쪽이다. 서버는 일반적으로 여러 클라이언트의 요청을 처리하므로 클라이언트 컴퓨터보다 성능이 더 좋다. 이 개념은 단일 컴퓨터 내에서도 적용할 수 있지만 네트워크 환경에서 더 큰 의미를 가진다. 웹에서는 웹 브라우저가 클라이언트 웹 사이트가 서버의 역할을 한다.
    * 웹 브라우저: HTML 문서와 그림, 멀티미디어 파일등 월드 와이드 웹을 기반으로 한 인터넷의 컨텐츠를 검색 및 열람하기 위한 응용 프로그램의 총칭. 웹 페이지를 가져오기 위해 HTTP로 통신한다. 웹 서버에 페이지를 요청할 때 정보를 송신하기도 한다. 주요 웹 브라우저로는 크롬, 파이어폭스, IE 등이 있다.
* 인터넷을 구성하는 프로토콜
    * IP: 인터넷 프로토콜.. 송신 호스트와 수신 호스트가 패킷 교환 네트워크에서 정보를 주고받는 데 사용하는 정보 위주의 규약이다. OSI 네트워크 계층에서 호스트의 주소지정과 패킷 분할 및 조립 기능을 담당한다. IP의 정보는 패킷 혹은 데이터그램이라고 하는 덩어리로 나뉘어 전송된다. 이전에 통신한 적 없는 호스트에 패킷을 보낼 때 경로 설정이 필요없다. 비신뢰성, 비연결성이 특징. 비신뢰성은 흐름에 관여하지 않기 때문에 보낸 정보가 제대로 갔는지 보장하지 않는다는 뜻. 패킷의 순서가 뒤죽박죽이 될 수도 있고 중간에 사라질 수도 있다. 신뢰성을 위해서라면 TCP와 같은 프로토콜을 이용해야 한다.
    * TCP: 전송 제어 프로토콜. 근거리 통신망이나 인트라넷, 인터넷에 연결된 컴퓨터에서 실행되는 프로그램 간에 일련의 옥텟을 안정적으로, 순서대로, 에러없이 교환할 수 있게 한다. TCP는 전송 계층에 위치한다. 네트워크의 정보 전달을 통제하는 프로토콜이자 인터넷을 이루는 핵심 프로토콜의 하나이다. TCP는 웹 브라우저들이 월드 와이드 웹에서 서버에 연결할 때 사용된다. 데이터에 흐름을 제어하는 규약. 따라서 데이터가 전송되어야 할 경로에 대한 규약인 IP와 함께 사용한다.
* OSI 7 layer
    * 1계층 - Physical layer: 시스템의 전기적, 물리적 표현을 나타낸다. 케이블 종류, 무선 주파수 링크, 전압 등의 물리 요건이 포함된다. 네트워킹 문제가 발생하면 케이블 연결등을 확인하게 된다. 장비로는 허브, 리피터등이 있다.
    * 2계층 - Data Link layer: 데이터 링크 계층은 노드 간 데이터 전송을 제공하며 물리 계층의 오류 수정도 처리한다. 2개의 부계층이 존재하는데 매체 접근 제어 (MAC)계층과 논리적 연결 제어(LLC) 계층이다. 관련 장비로는 스위치, 브리지가 있다.
    * 3계층 - Network layer: 라우터 기능 대부분이 이 계층에 자리를 잡는다. 가장 기본적으로 볼 때 이 계층은 다른 여러 라우터를 통한 라우팅을 비롯한 패킷 전달을 담당한다. 장비로는 라우터, layer3스위치 등이 있다. 관련 프로토콜로는 IP, IPX, ARP 등이 있다. 
    * 4계층 - Transport layer: 최종 시스템 및 호스트 간의 데이터 전송 조율을 담당하는 계층. 보낼 데이터의 용량과 속도, 목적지 등을 처리한다. 전송 계층의 예 중에서 가장 잘 알여진 전송 제어 프로토콜이 TCP이다. 데이터를 적당한 크기의 패킷으로 나누어 주는 역할을 한다. 관련 프로토콜로는 TCP와 UDP가 있다.
    * 5계층 - Session layer: 2대의 기기, 컴표터 또는 서버 간의 "대화"가 필요하면 session을 만들어야 하는데 이 작업이 여기서 처리된다. 이 계층에는 설정, 조율, 세션 마지막에 응용프로그램 간의 종료 등의 기능이 필요하다.
    * 6계층 - Presentation layer: 응용 계층의 데이터 표현에서 독립적인 부분을 나타낸다. 응용프로그램 형식을 준비 또는 네트워크 형식으로 변환하거나 네트워크 형식을 응용프로그램 형식으로 변환하는 것을 나타낸다. 다시 말해 응용프로그램이나 네트워크를 위해 데이터를 "표현"하는 것이다. 데이터를 암호화, 복호화하는 계층이다.
    * 7계층 - Application layer: 가장 위에 있는 층으로 사용자에게 보이는 부분이다. 전자우편, 원격 파일 접속과 전송, 공유된 데이터베이스 관리, 분산된 정보 서비스의 또 다른 유형과 같은 서비스를 지원하고 사용자 인터페이스를 제공한다. FTP, TFTP, SMTP, HTTP 같은 프로토콜이 이 계층에 속한다.
* HTTP (HyperText Transfer Protocol)
    * 웹에서 웹페이지를 가져오기 위해 어떻게 클라이언트-서버 프로그램이 작성될 수 있는지를 정의한다.
    * HTTP 클라이언트는 요청을 하고 HTTP 서버는 응답을 한다. 서버는 포트 80번을 사용하고 클라이언트는 임시 포트 번호를 사용한다.
    * 1989년 팀 버너스 리가 설계했다. 웹에서만 사용하는 프로토콜로 TCP/IP 기반으로 한 지점에서 다른 지점으로 요청과 응답을 전송한다.
    * HTTP 1.0
        * 단순한 open, operation, close. 매번 필요할 떄마다 연결해야하므로 성능의 저하가 발생한다. 한 번에 얻어서 가졍로 수 있는 데이터의 양이 제한된다. URL의 크기도 작으며, 캐시 기능이 미흡하다. GET/ HEAD/ POST의 메소드만 허용.
    * HTTP 1.1
        * 지속적인 연결을 해 주는 persistent connenction 지원. multiple request 처리 가능. request/response가 pipeline 방식으로 진행. proxy server와 캐시 기능 향상(Cache-Control). GET/HEAD/POST/OPTIONS/DELETE/TRACE/CONNET 메소드 허용.
    * HTTP 메세지
        * request: 클라이언트가 서버에 요청하는 메세지
        * response: 서버가 클라이언트에 응답하는 메세지
    * HTTP 메소드
        * http://wiki.gurubee.net/pages/viewpage.action?pageId=26739929 3.2.2 참고
    * HTTP 상태코드
        * https://ko.wikipedia.org/wiki/HTTP_%EC%83%81%ED%83%9C_%EC%BD%94%EB%93%9C
    * 출처: http://wiki.gurubee.net
* DNS(Domain Name System Servers)
    * 숫자로 이루어진 IP주소를 사람이 이해하기 쉬운 언어체계로 변환하는 작업을 해주는 역할을 한다.
* 체크리스트
    * 인터넷은 어떻게 동작하나요? OSI 7 layer에 입각하여 설명해 보세요.
        * 송신 쪽 컴퓨터에서 7계층에서부터 1계층까지 내려가 각 층의 역할에 맞게 header가 붙어서 encapsulation이 되고 수신 쪽 컴퓨터에서는 다시 역순으로 올라가며 decapsulation이 이루어진다.
    * 우리가 브라우저의 주소 창에 www.knowre.com 을 쳤을 때, 어떤 과정을 통해 노리의 서버 주소를 알게 되나요?
        * 로컬 DNS -> root DNS -> .com NS -> knowre.com NS
* Quest
    * tracert(Windows가 아닌 경우 traceroute) 명령을 통해 www.google.com까지 가는 경로를 찾아보세요.
        * 어떤 IP주소들이 있나요?
            * 10.96.104.1
            * 220.85.58.254 주식회사 케이티 경기도 성남시 분당구 불정로 90
            * 112.189.29.189
            * 112.174.73.158
            * 112.174.73.162
            * 112.174.11.34
            * 72.14.194.194 구글LLC 미국 캘리포니아 마운틴뷰
            * 72.14.194.106
            * 72.14.194.194
            * 108.170.242.129
            * 108.170.242.97
            * 72.14.238.75
            * 172.217.26.36 
        * 그 IP주소들은 어디에 위치해 있나요?
    * Wireshark를 통해 www.google.com으로 요청을 날렸을 때 어떤 TCP 패킷이 오가는지 확인해 보세요.
        * TCP 패킷을 주고받는 과정은 어떻게 되나요?
        * 각각의 패킷에 어떤 정보들이 담겨 있나요?
    * telnet 명령을 통해 www.google.com URL에 HTTP요청을 날려 보세요.
        * 어떤 헤더들이 있나요?
            * Date, Cache-Control. Content-Type, P3P, Server, X-XSS-Protection, X-Frame-Options, Set-Cookie, Transfer-Encoding, Accept-Ranges, Vary, Content-Length 등
        * 그 헤더들은 어떤 역할을 하나요?
            * Date: 현재 일시를 GMT 형식으로 지정
            * Content-Type: 헤더 응답 문서의 mime타입
            * Server: 웹 서버 정보
            * Set-Cookie: 서버쪽에서 클라이언트에게 세션 쿠키 정보를 설정
            * Cache-Control: 쉼표로 구분된 목록에 캐싱 지시문을 지정
            * Vary: 엔티티가 다중 자원을 가지고 있으므로 요청한 헤더를 지정한 목록이 상황에 따라 변할 수 있다는 것을 지정한다. 여러 개의 헤더는 세미콜론으로 구분하여 나열한다.
            * https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers